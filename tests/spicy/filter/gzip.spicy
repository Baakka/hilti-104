#
# @TEST-EXEC:  cat gzip.base64 | ${SCRIPTS}/base64-decode | spicy-driver-test %INPUT >output
# @TEST-EXEC:  btest-diff output

module Mini;

import Spicy;

export type Main = unit {
    data: bytes &eod {
        print self.data;
        }

    on %init {
        self.add_filter(Spicy::Filter::GZIP);
    }
};

@TEST-START-FILE gzip.base64
H4sIAMaHZ1ECA6VXbW/bNhD+7l9xaD80QSKv3VA02JYNrRt3BtIkqNOhQ5APtETZRClSI6kk3q/f
c5RkKbKdbZ2BIDZ5z8O7471xen725eDVIX3z57OXjia2KITJ/LfTTGs9RvhcvP14NmqWcy0fKKGw
kpQLHwg/VSo0CSP0mk9eSiOdCNaNRvM/Li6v5rP5I+zN5dX17PJifks309n52e14PB6N3p/NJ59m
caMV/lDzSE+ls0snCo9DRaBSuty6gkoRgnQmKURIV8osyRoK8iGADehrsdCSvVA66b2y5seWN5mI
Y0oSodXSjB6bHJzIJNk8Jy3cErYEZvGE82gh+TgqZGHdmiK6kCaMOlrJtDL1A9LUGh9clQaSf1bq
TmhpUkmpFt5L34Pn/C+zZGwApta7UeAnqrykJCcneRnHigCTeuDpP4Kn+8EFK17IIJ7UvhZ40gTH
RE6KbEDCCvDywSEp0OEbnEw+ZMpG3/pUGFw2Nsuq59Gc6fJK6wFdE2F1AB7Xd9VyjGkuCknCs0dd
xzWNXJDfoZrQHEhMGD02cFSfcer6912wz2UuKt05HQA68C2AHdrz7WFEv5eLarlExHYhmbF2Ga8P
1JMmahS3qLCITmVaUztVFgxfiPRrVQ7w907BLN7CeUlVAs7JEw2jYDl7xw1ww1YyG2cZrrK0Luyk
bLJQcCDUYkyHK5Wup5hnKmMbJw2IfFXWcdr60FUwFSxnk98uqTIxsWUWk7qjvGZKJGoqB3SxuPiV
rXQGJsOOimLRbR3+vlbpXrhh9jfps4kuFoHXegF+x9g76RbWy51e8RWqLsoDR3cT056jyAeFQKgd
ZJsQnyokZxcClrmxl2P5lAvj0FulTFUO6iogSYjFDMKsU27OBP6r1E+heV8G3D3jO2yI2Fq3nXY1
xgBYS/XzmGNovR6nHV2yXsficNpvHM2HlWbU5OioriA92AqM0iX7XJCihkAZQROqJaMVfNEiy1Qb
0tyZtjIkqWthpL6J3LeNaU2JBzCeyIh5Y+1CrsSdsq67pDfspzcLFfZVpDcJNrePP2HcyRO4k924
d3ViIw/2AePm5n4ObFlaz2bBw8nssGNSzJQKLxPcnDSQUXfDGEZLsw51HVLs1KbB9i5IMwmuO+Fq
J4bGFOJBFZgE6k21UFqFNd2rsCLrFAoe9gDu6L7EQgN9/zvh1eV89uUx24zZlIHKIt1h3MZjPZE9
fnt3+CiUtTLS2O1RIf1KvAX1KsMJQRvRUW98ybCfyS6Ejo6ZNT062qcfJ0ar1yBB3hcidfbmFAXT
3A7wz7HI2kQRLqmG6KCtrPGn8vTi1YuebedRFWNZ6321+Xk0MVNORo/5nf3nKhIBkKuH0/n1p9nF
hx1ttt7gvlhL9mvIs/X6Wcf3KfI5iRbshNmbNII2IigJ2zm/UN6aZOFUttyyr3FwnOxYjMoKoV8K
hxF2vMWhbRpb5nA6UibVFZoybh4i0WvohH08DzlmK+95SWGG/Iuhyny3XnNNrfsDfva6RM1irEDK
JvGKY6HzZHUG8jXqX16ZNBa/3vY2FkN0sGFdyqENsiiRVbAchZknXI1uFdO/A/TJKoP9bHfrbN3x
cy00Xv3yCDr9fDHpT/h7+q5gZdAwKwx2tMEw6KPyqdRaGGmrXutMGxocEeJLoK4Otnw855p/J/Zr
93V1HJuSHk5VcE1WYbIAjSfex3DsvVj2OurvzajAA+EA3YxLcV5pJUbzszN6ez6/bGWv0cWIZ1/W
OK2KdhqNERuhOLoQKGb4Q5FBVgm6xlsM8x3WTSX0mGiWx3YYF/EarIGb55TgiHcWo5xex2QUWjNV
IIQjJhfUw+NWH6ZJ6zflaCuYwZ73a3EzhS25xIKKRJrG94htaUoMIbJVk1+YUbHvx6/HP7z+xteq
XLiKR6/vX748+f+P3r8BmOibrIUPAAA=
@TEST-END-FILE
