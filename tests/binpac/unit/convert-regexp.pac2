#
# @TEST-EXEC:  echo 12345 | pac-driver-test %INPUT >output    
# @TEST-EXEC:  btest-diff output
#

module Mini;

# These are implemented in libhilti.
import "HILTI-C" int64 Hilti::bytes_to_int(b: bytes, base: uint<64>);

int64 to_int(b: bytes)
{
     return Hilti::bytes_to_int(b, 10);
}

const RE = /[0-9]+/;

export type test = unit {
       a: RE &convert=to_int($$)
          { print self.a + 1; }
};
