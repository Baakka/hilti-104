#
# @TEST-EXEC:  hilti-build -d %INPUT ${PAC_DRIVER} -o a.out
# @TEST-EXEC:  echo AaBb567890 | ./a.out >output
# @TEST-EXEC:  btest-diff output
#

module Mini;

# These are implemented in libhilti.
import "HILTI" int64 Hilti::bytes_to_int(b: bytes);
import "HILTI" bytes Hilti::bytes_to_lower(b: bytes);

bytes to_lower(b: bytes)
{
     return bytes_to_lower(b);
}

int64 to_int(b: bytes)
{
     return bytes_to_int(b) + 1;
}

export type test = unit {
       a: bytes &length=4 &convert=to_lower($$);
       b: bytes &length=6 &convert=to_int($$)
          { print self.a; print self.b; }
};
