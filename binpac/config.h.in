
#ifndef BINPAC_CONFIG_H
#define BINPAC_CONFIG_H

#include <list>
#include <string>

using std::string;

namespace binpac {

struct Configuration {
    string version = "${PROJECT_VERSION}";

    std::list<string> library_dirs = {
        ".",
        "${PATH_LIBBINPAC}",
        "${PATH_LIBBINPAC_AUTOGEN}"
    };

    string runtime_bca     = "${PROJECT_BINARY_DIR}/libbinpac/libbinpac-rt.bc";
    string runtime_dbg_bca = "${PROJECT_BINARY_DIR}/libbinpac/libbinpac-rt-dbg.bc";
    string runtime_hlt     = "${PROJECT_SOURCE_DIR}/libbinpac/binpachilti.hlt";
};

inline const Configuration& configuration()
{
    // TOOD: We allocate this dynamically so that it doesn't get destroyed
    // at termination. Had some crashes at that time.
    static Configuration* cfg = new Configuration;
    return *cfg;
}

}

#endif
